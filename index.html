<html>
    <head>
        <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
        <link href="./styles.css" rel="stylesheet">
    </head>

    <body>
<!-- Nuestra página -->
        <h1 style="text-align: center; font-size: 40px;">
            SomeBook
        </h1>

        <button id="load" class="button">Cargar datos</button>
        <br><br>
        <div id="container" class="container"><h3>Esperando click para cargar datos</h3></div>


<!--  Nuestros scripts -->

        <script src="https://unpkg.com/axios/dist/axios.min.js"></script><!-- Libreria para hacer peticiones AJAX usando Promises -->
        <script src="./templates.js"></script><!-- Funciones de ayuda, exporta: makeTemplate -->
        
        <script>
            // traemos los nodos que necesitaremos en el DOM
            var container = document.getElementById('container')   
            var button = document.getElementById('load')
          
            //Función que genera y ejecutar la petición AJAX
            async function cargarDatos(e) {
                //usando `.innerHTML` podemos cambiar el html de un nodo
                container.innerHTML = '...cargando datos'

                //URL a donde haremos la petición
                // 'https://jsonplaceholder.typicode.com/users'
                const users = (await axios.get('https://jsonplaceholder.typicode.com/users')).data
             
                container.innerHTML = makeTable(users)
            }
           
            //Al dar click en el boton, hacemos la petición AJAX
            button.addEventListener('click', cargarDatos)

        </script>
    </body>
</html>